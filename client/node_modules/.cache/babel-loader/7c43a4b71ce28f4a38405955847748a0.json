{"ast":null,"code":"import _objectSpread from\"D:/python/Student-Registration/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"D:/python/Student-Registration/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import{useNavigate,useParams}from\"react-router\";import WidgetTextfield from\"../../components/WidgetTextfield\";import WidgetButton from\"../../components/WidgetButton\";import{useDispatch,useSelector}from\"react-redux\";import{updateUser}from\"./APIcalls\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var UpdateUser=function UpdateUser(){var params=useParams();var dispatch=useDispatch();var _useSelector=useSelector(function(store){return store.users;}),users=_useSelector.users;console.log(users[0].sid);var existingUser=users.filter(function(users){return users.sid===Number(params.id);});console.log(existingUser);var _existingUser$=existingUser[0],fname=_existingUser$.fname,lname=_existingUser$.lname,email=_existingUser$.email,coursename=_existingUser$.coursename,contactno=_existingUser$.contactno,dob=_existingUser$.dob;console.log(\"====================================\");console.log(existingUser);console.log(\"====================================\");var _useState=useState({fname:fname,lname:lname,email:email,contactno:contactno,coursename:coursename,dob:dob}),_useState2=_slicedToArray(_useState,2),values=_useState2[0],setValues=_useState2[1];var navigate=useNavigate();var handleUpdateUser=function handleUpdateUser(){setValues({fname:\"\",lname:\"\",email:\"\",coursename:\"\",contactno:\"\",dob:\"\"});console.log(\"====================================\");console.log(values);console.log(\"====================================\");// const response = publicRequest.put(`student/${params.id}`,values)\n//console.log(response)\nupdateUser(params.id,values,dispatch);navigate(\"/\");};return/*#__PURE__*/_jsxs(\"div\",{className:\"mt-10 max-w-xl mx-auto\",children:[/*#__PURE__*/_jsx(WidgetTextfield,{label:\"First Name\",name:\"fname\",value:values.fname,onChange:function onChange(e){return setValues(_objectSpread(_objectSpread({},values),{},{fname:e.target.value}));},inputProps:{type:\"text\",placeholder:\"Enter Student fname here\"}}),/*#__PURE__*/_jsx(WidgetTextfield,{label:\"Last Name\",name:\"lname\",value:values.lname,onChange:function onChange(e){return setValues(_objectSpread(_objectSpread({},values),{},{lname:e.target.value}));},inputProps:{type:\"text\",placeholder:\"Enter Student lname here\"}}),/*#__PURE__*/_jsx(WidgetTextfield,{label:\"Email\",name:\"email\",value:values.email,onChange:function onChange(e){return setValues(_objectSpread(_objectSpread({},values),{},{email:e.target.value}));},inputProps:{type:\"email\",placeholder:\"Enter Student email here\"}}),/*#__PURE__*/_jsx(WidgetTextfield,{label:\"Course Name\",name:\"coursename\",value:values.coursename,onChange:function onChange(e){return setValues(_objectSpread(_objectSpread({},values),{},{coursename:e.target.value}));},inputProps:{type:\"text\",placeholder:\"Enter Course Name here\"}}),/*#__PURE__*/_jsx(WidgetTextfield,{label:\"Contact Number\",name:\"contactno\",value:values.contactno,onChange:function onChange(e){return setValues(_objectSpread(_objectSpread({},values),{},{contactno:e.target.value}));},inputProps:{type:\"tel\",placeholder:\"Enter Student contact_no here\"}}),/*#__PURE__*/_jsx(WidgetTextfield,{label:\"DOB\",name:\"dob\",value:values.dob,onChange:function onChange(e){return setValues(_objectSpread(_objectSpread({},values),{},{dob:e.target.value}));},inputProps:{type:\"date\",placeholder:\"Date of birth\"}}),/*#__PURE__*/_jsx(WidgetButton,{onClick:handleUpdateUser,children:\"Update\"})]});};export default UpdateUser;","map":{"version":3,"names":["React","useState","useNavigate","useParams","WidgetTextfield","WidgetButton","useDispatch","useSelector","updateUser","UpdateUser","params","dispatch","store","users","console","log","sid","existingUser","filter","Number","id","fname","lname","email","coursename","contactno","dob","values","setValues","navigate","handleUpdateUser","e","target","value","type","placeholder"],"sources":["D:/python/Student-Registration/client/src/features/users/UpdateUser.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { useNavigate, useParams } from \"react-router\";\r\nimport WidgetTextfield from \"../../components/WidgetTextfield\";\r\nimport WidgetButton from \"../../components/WidgetButton\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { updateUser } from \"./APIcalls\";\r\n\r\n\r\nconst UpdateUser = () => {\r\n  \r\n  const params = useParams();\r\n  const dispatch = useDispatch();\r\n  const {users} = useSelector((store) => store.users);\r\n  console.log(users[0].sid);\r\n   const existingUser = users.filter((users) => users.sid === Number(params.id));\r\n\r\n   console.log(existingUser);\r\n   \r\n  const { fname, lname, email,coursename, contactno, dob } = existingUser[0];\r\n  console.log(\"====================================\");\r\n  console.log(existingUser);\r\n  console.log(\"====================================\");\r\n  const [values, setValues] = useState({\r\n    fname,\r\n    lname,\r\n    email,\r\ncontactno,\r\ncoursename,\r\ndob,\r\n\r\n  });\r\n\r\n  const navigate = useNavigate();\r\n\r\n  const handleUpdateUser = () => {\r\n    setValues({fname: \"\", lname:\"\", email: \"\",coursename:\"\", contactno:\"\", dob:\"\"});\r\n    console.log(\"====================================\");\r\n    console.log(values);\r\n    console.log(\"====================================\");\r\n\r\n   // const response = publicRequest.put(`student/${params.id}`,values)\r\n//console.log(response)\r\nupdateUser(params.id,values,dispatch)\r\n  \r\n\r\n    navigate(\"/\");\r\n  };\r\n\r\n  return (\r\n    <div className=\"mt-10 max-w-xl mx-auto\">\r\n      <WidgetTextfield\r\n        label=\"First Name\"\r\n        name=\"fname\"\r\n        value={values.fname}\r\n        onChange={(e) => setValues({ ...values, fname: e.target.value })}\r\n        inputProps={{ type: \"text\", placeholder: \"Enter Student fname here\" }}\r\n      />\r\n       <WidgetTextfield\r\n        label=\"Last Name\"\r\n        name=\"lname\"\r\n        value={values.lname}\r\n        onChange={(e) => setValues({ ...values, lname: e.target.value })}\r\n        inputProps={{ type: \"text\", placeholder: \"Enter Student lname here\" }}\r\n      />     \r\n      <WidgetTextfield\r\n        label=\"Email\"\r\n        name=\"email\"\r\n        value={values.email}\r\n        onChange={(e) => setValues({ ...values, email: e.target.value })}\r\n        inputProps={{ type: \"email\", placeholder: \"Enter Student email here\" }}\r\n      />\r\n       <WidgetTextfield\r\n        label=\"Course Name\"\r\n        name=\"coursename\"\r\n        value={values.coursename}\r\n        onChange={(e) => setValues({ ...values, coursename:e.target.value })}\r\n        inputProps={{ type: \"text\", placeholder: \"Enter Course Name here\" }}\r\n      />\r\n      <WidgetTextfield\r\n        label=\"Contact Number\"\r\n        name=\"contactno\"\r\n        value={values.contactno}\r\n        onChange={(e) => setValues({ ...values, contactno: e.target.value })}\r\n        inputProps={{ type: \"tel\", placeholder: \"Enter Student contact_no here\" }}\r\n        />\r\n      \r\n      <WidgetTextfield\r\n        label=\"DOB\"\r\n        name=\"dob\"\r\n        value={values.dob}\r\n        onChange={(e) => setValues({ ...values, dob: e.target.value })}\r\n        inputProps={{ type: \"date\", placeholder: \"Date of birth\" }}\r\n      />\r\n      <WidgetButton onClick={handleUpdateUser} >Update</WidgetButton>\r\n    </div>\r\n  );\r\n  \r\n};\r\n\r\nexport default UpdateUser;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}