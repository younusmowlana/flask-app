{"ast":null,"code":"import React,{useEffect}from\"react\";import WidgetButton from\"../../components/WidgetButton\";import{Link}from\"react-router-dom\";import{useDispatch,useSelector}from\"react-redux\";import{deleteUser}from\"./APIcalls\";import{getUser}from\"./APIcalls\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var UserList=function UserList(){var dispatch=useDispatch();var _useSelector=useSelector(function(store){return store.users;}),users=_useSelector.users,isFetching=_useSelector.isFetching;//const {isFetching,error,users} = userState;\nconsole.log(users);// const [users, setusers ] = useState({})\n// const {user} = useSelector((state) => state.user);\n// useEffect(() => {\n//   const getProduct = async () => {\n//     try {\n//       const res = await publicRequest.get(`/students`);\n//       console.log(res.data.data)\n//       setusers(res.data.data);\n//     } catch {}\n//   };\n//   getProduct();\n// }, []);\nuseEffect(function(){getUser(dispatch);},[dispatch]);// console.log(\"====================================\");\n// console.log(users);\n// console.log(\"====================================\");\nvar handleRemoveUser=function handleRemoveUser(sid){deleteUser(sid,dispatch);};if(isFetching){return/*#__PURE__*/_jsx(_Fragment,{children:\"LOADING\"});}var renderCard=function renderCard(){return users.map(function(user){return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-green-200 p-5 flex items-center justify-between h-[10rem]\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"font-bold text-lg text-gray-700\",children:[user.fname,\" \",user.lname]}),/*#__PURE__*/_jsxs(\"span\",{className:\"font-normal text-gray-600 text-base\",children:[/*#__PURE__*/_jsx(\"b\",{children:\"Gmail: \"}),user.email]}),/*#__PURE__*/_jsxs(\"p\",{className:\"font-normal text-gray-600 text-base\",children:[/*#__PURE__*/_jsx(\"b\",{children:\"Course Name: \"}),user.coursename]}),/*#__PURE__*/_jsxs(\"p\",{className:\"font-normal text-gray-600 text-base\",children:[/*#__PURE__*/_jsx(\"b\",{children:\"Contact No: \"}),user.contactno]}),/*#__PURE__*/_jsxs(\"p\",{className:\"font-normal text-gray-600 text-base\",children:[/*#__PURE__*/_jsx(\"b\",{children:\"DOB: \"}),user.dob]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2\",children:[/*#__PURE__*/_jsx(Link,{to:\"/edit-user/\".concat(user.sid),children:/*#__PURE__*/_jsx(\"button\",{children:/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",className:\"h-6 w-6\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",strokeWidth:2,children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",d:\"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z\"})})})}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return handleRemoveUser(user.sid);},children:/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",className:\"h-6 w-6\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",strokeWidth:2,children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",d:\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\"})})})]})]},user.sid);});};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Link,{to:\"/add-user\",children:/*#__PURE__*/_jsx(WidgetButton,{children:\"Add Student\"})}),\"\\xA0\\xA0\\xA0\",/*#__PURE__*/_jsx(Link,{to:\"/add-course\",children:/*#__PURE__*/_jsx(WidgetButton,{children:\"Add Courses\"})}),\"\\xA0\\xA0\\xA0\",/*#__PURE__*/_jsx(Link,{to:\"/show-course\",children:/*#__PURE__*/_jsx(WidgetButton,{children:\"Show Courses\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"grid gap-5 md:grid-cols-2\",children:users.length?renderCard():/*#__PURE__*/_jsx(\"p\",{className:\"text-center col-span-2 text-gray-700 font-semibold\",children:\"No Students\"})})]});};export default UserList;","map":{"version":3,"names":["React","useEffect","WidgetButton","Link","useDispatch","useSelector","deleteUser","getUser","UserList","dispatch","store","users","isFetching","console","log","handleRemoveUser","sid","renderCard","map","user","fname","lname","email","coursename","contactno","dob","length"],"sources":["D:/python/Student-Registration/client/src/features/users/UserList.js"],"sourcesContent":["import React, { useEffect } from \"react\";\r\nimport WidgetButton from \"../../components/WidgetButton\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { deleteUser } from \"./APIcalls\";\r\nimport { getUser } from \"./APIcalls\";\r\n\r\n\r\nconst UserList = () => {\r\n  const dispatch = useDispatch();\r\n  const {users,isFetching} = useSelector((store) => store.users);\r\n  //const {isFetching,error,users} = userState;\r\n  console.log(users)\r\n  // const [users, setusers ] = useState({})\r\n  // const {user} = useSelector((state) => state.user);\r\n\r\n  // useEffect(() => {\r\n  //   const getProduct = async () => {\r\n  //     try {\r\n  //       const res = await publicRequest.get(`/students`);\r\n  //       console.log(res.data.data)\r\n  //       setusers(res.data.data);\r\n  //     } catch {}\r\n  //   };\r\n  //   getProduct();\r\n  // }, []);\r\n\r\n  useEffect(() => {\r\n    getUser(dispatch);\r\n  }, [dispatch]);\r\n\r\n\r\n  // console.log(\"====================================\");\r\n  // console.log(users);\r\n  // console.log(\"====================================\");\r\n\r\n\r\n  const handleRemoveUser = (sid) => {\r\n    deleteUser(sid,dispatch);\r\n  };\r\n\r\n  if (isFetching) {\r\n    return <>LOADING</>\r\n  }\r\n  const renderCard = () =>\r\n    users.map((user) => (\r\n      <div\r\n        className=\"bg-green-200 p-5 flex items-center justify-between h-[10rem]\"\r\n        key={user.sid}\r\n      >\r\n        <div>\r\n          <h3 className=\"font-bold text-lg text-gray-700\">{user.fname} {user.lname}</h3>\r\n          <span className=\"font-normal text-gray-600 text-base\"><b>Gmail: </b>{user.email}</span>\r\n          <p className=\"font-normal text-gray-600 text-base\"><b>Course Name: </b>{user.coursename}</p>\r\n          <p className=\"font-normal text-gray-600 text-base\"><b>Contact No: </b>{user.contactno}</p>\r\n          <p className=\"font-normal text-gray-600 text-base\"><b>DOB: </b>{user.dob}</p>\r\n        </div>\r\n        <div className=\"flex gap-2\">\r\n          <Link to={`/edit-user/${user.sid}`}>\r\n            <button>\r\n              <svg\r\n                xmlns=\"http://www.w3.org/2000/svg\"\r\n                className=\"h-6 w-6\"\r\n                fill=\"none\"\r\n                viewBox=\"0 0 24 24\"\r\n                stroke=\"currentColor\"\r\n                strokeWidth={2}\r\n              >\r\n                <path\r\n                  strokeLinecap=\"round\"\r\n                  strokeLinejoin=\"round\"\r\n                  d=\"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z\"\r\n                />\r\n              </svg>\r\n            </button>\r\n          </Link>\r\n          <button onClick={() => handleRemoveUser(user.sid)}>\r\n            <svg\r\n              xmlns=\"http://www.w3.org/2000/svg\"\r\n              className=\"h-6 w-6\"\r\n              fill=\"none\"\r\n              viewBox=\"0 0 24 24\"\r\n              stroke=\"currentColor\"\r\n              strokeWidth={2}\r\n            >\r\n              <path\r\n                strokeLinecap=\"round\"\r\n                strokeLinejoin=\"round\"\r\n                d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\"\r\n              />\r\n            </svg>\r\n          </button>\r\n        </div>\r\n      </div>\r\n    ));\r\n\r\n  return (\r\n    <div>\r\n      <Link to=\"/add-user\">\r\n        <WidgetButton>Add Student</WidgetButton>\r\n      </Link>\r\n      &nbsp;&nbsp;&nbsp;\r\n      <Link to=\"/add-course\">\r\n      <WidgetButton>Add Courses</WidgetButton>\r\n      </Link>\r\n      &nbsp;&nbsp;&nbsp;\r\n      <Link to=\"/show-course\">\r\n      <WidgetButton>Show Courses</WidgetButton>\r\n      </Link>\r\n      \r\n      <div className=\"grid gap-5 md:grid-cols-2\">\r\n        {users.length ? (\r\n          renderCard()\r\n        ) : (\r\n          <p className=\"text-center col-span-2 text-gray-700 font-semibold\">\r\n            No Students\r\n          </p>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UserList;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}